(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70a7f3ec"],{"1daf":function(t,e,a){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var n=a("1d80"),r=a("5899"),i="["+r+"]",o=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),l=function(t){return function(e){var a=String(n(e));return 1&t&&(a=a.replace(o,"")),2&t&&(a=a.replace(c,"")),a}};t.exports={start:l(1),end:l(2),trim:l(3)}},7156:function(t,e,a){var n=a("861d"),r=a("d2bb");t.exports=function(t,e,a){var i,o;return r&&"function"==typeof(i=e.constructor)&&i!==a&&n(o=i.prototype)&&o!==a.prototype&&r(t,o),t}},"8b43":function(t,e,a){"use strict";a("1daf")},"91b6":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("4020");function r(t){return Object(n["b"])("/file/upload-file",t)}},a9e3:function(t,e,a){"use strict";var n=a("83ab"),r=a("da84"),i=a("94ca"),o=a("6eeb"),c=a("5135"),l=a("c6b6"),s=a("7156"),u=a("c04e"),f=a("d039"),d=a("7c73"),m=a("241c").f,p=a("06cf").f,g=a("9bf2").f,b=a("58a8").trim,h="Number",v=r[h],y=v.prototype,k=l(d(y))==h,I=function(t){var e,a,n,r,i,o,c,l,s=u(t,!1);if("string"==typeof s&&s.length>2)if(s=b(s),e=s.charCodeAt(0),43===e||45===e){if(a=s.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(s.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+s}for(i=s.slice(2),o=i.length,c=0;c<o;c++)if(l=i.charCodeAt(c),l<48||l>r)return NaN;return parseInt(i,n)}return+s};if(i(h,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var _,w=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof w&&(k?f((function(){y.valueOf.call(a)})):l(a)!=h)?s(new v(I(e)),a,w):I(e)},j=n?m(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),O=0;j.length>O;O++)c(v,_=j[O])&&!c(w,_)&&g(w,_,p(v,_));w.prototype=y,y.constructor=w,o(r,h,w)}},b0c0:function(t,e,a){var n=a("83ab"),r=a("9bf2").f,i=Function.prototype,o=i.toString,c=/^\s*function ([^ (]*)/,l="name";n&&!(l in i)&&r(i,l,{configurable:!0,get:function(){try{return o.call(this).match(c)[1]}catch(t){return""}}})},c40e:function(t,e,a){"use strict";a.d(e,"c",(function(){return r})),a.d(e,"d",(function(){return i})),a.d(e,"f",(function(){return o})),a.d(e,"e",(function(){return c})),a.d(e,"a",(function(){return l})),a.d(e,"b",(function(){return s}));var n=a("4020");function r(t){return Object(n["c"])("/project/add",t,!0)}function i(t){return Object(n["c"])("/project/del",t,!0)}function o(t){return Object(n["a"])("project/manage-list",t,!0)}function c(t){return Object(n["a"])("project/detail-page",t,!0)}function l(){return Object(n["a"])("brand/manage-list",{},!1)}function s(){return Object(n["a"])("category/manage-list",{},!1)}},cbaa:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"search-form"},[a("el-form",{attrs:{inline:!0,size:"small"}},[a("el-form-item",{attrs:{label:"分类"}},[a("el-cascader",{attrs:{options:t.categoryOptions,props:{value:"id",label:"name",checkStrictly:!0},clearable:""},model:{value:t.searchForm.category,callback:function(e){t.$set(t.searchForm,"category",e)},expression:"searchForm.category"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("查询")]),a("el-button",{attrs:{icon:"el-icon-refresh-left"},on:{click:t.reset}},[t._v("重置")])],1)],1)],1),a("div",{staticClass:"table-view"},[a("div",{staticClass:"add-view"},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary",plain:""},on:{click:function(e){return t.openDialog("add",0,{})}}},[t._v("新增")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,align:"center","row-key":"id","tree-props":{children:"children"}}},[a("el-table-column",{attrs:{prop:"id",label:"编号"}}),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{label:"logo"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-image",{staticClass:"table-image",attrs:{fit:"cover",src:e.row.logo,"preview-src-list":t._f("toArray")(e.row.logo)}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.openDialog("add",e.row.id,e.row)}}},[t._v(" 新增 ")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.openDialog("edit",0,e.row)}}},[t._v(" 编辑 ")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.del(e.row.id)}}},[t._v("删除 ")])]}}])})],1)],1),a("el-dialog",{attrs:{title:"add"===t.type?"添加分类":"编辑分类",visible:t.dialogVisible,width:"400px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"form",attrs:{size:"small",model:t.form,"label-width":"60px",rules:t.rules}},[a("el-form-item",{attrs:{label:"标题",prop:"name"}},[a("el-input",{attrs:{placeholder:"标题"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"logo",prop:"logo"}},[a("upload",{attrs:{"file-list":t._f("toArray")(t.form.logo.url)},on:{success:t.upload,del:t.delImage}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)],1)},r=[],i=(a("b0c0"),a("decf")),o=a("4020");function c(t){return Object(o["a"])("/category/manage-list",t,!0)}function l(t){return Object(o["a"])("/category/add",t,!0)}function s(t){return Object(o["a"])("/category/update",t,!0)}function u(t){return Object(o["a"])("/category/del",t,!0)}var f=a("c40e"),d={name:"index",components:{Upload:i["a"]},data:function(){return{tableData:[],type:"add",dialogVisible:!1,form:{name:"",category:"",logo:{}},rules:{name:[{required:!0,message:"请输入"}],logo:[{required:!0,message:"请上传"}]},categoryOptions:[],searchForm:{category:[]},editId:0,pid:0}},mounted:function(){var t=this;this.getData(),Object(f["b"])().then((function(e){t.categoryOptions=e.list}))},methods:{del:function(t){var e=this;this.$confirm("确认删除该分类?").then((function(){u({id:t}).then((function(){e.getData()}))}))},openDialog:function(t,e,a){this.type=t,this.pid=e,this.dialogVisible=!0,"add"===t?this.form={name:"",logo:{}}:(this.editId=a.id,this.form={name:a.name,logo:{url:a.logo}})},submit:function(){var t=this;this.$refs["form"].validate((function(e){if(e){if("add"===t.type){var a={name:t.form.name,pid:t.pid,logo:t.form.logo.path};l(a).then((function(){t.$message.success("添加成功"),t.dialogVisible=!1,t.getData()}))}if("edit"===t.type){var n={name:t.form.name,id:t.editId,logo:t.form.logo.path};s(n).then((function(){t.$message.success("修改成功"),t.dialogVisible=!1,t.getData()}))}}}))},getData:function(){var t=this,e={name:this.searchForm.name};this.searchForm.category&&this.searchForm.category.length>0&&(e.category_id=this.searchForm.category[this.searchForm.category.length-1]),c(e).then((function(e){t.tableData=e.list}))},reset:function(){this.searchForm={name:"",category:[]}},search:function(){this.getData()},upload:function(t){this.form.logo=t},delImage:function(){this.form.logo={}}}},m=d,p=a("2877"),g=Object(p["a"])(m,n,r,!1,null,"66a200a6",null);e["default"]=g.exports},decf:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-view"},[t._l(t.fileList,(function(e,n){return a("div",{key:n,class:["lk-upload-image-container",0!==n?"margin-left":""]},[a("el-image",{staticClass:"lk-upload-image",attrs:{"preview-src-list":t.fileList,src:e,fit:"cover"}}),a("i",{staticClass:"el-icon-remove del-image",on:{click:function(e){return t.delImage(n)}}})],1)})),t.limit>t.fileList.length?a("div",{class:["lk-upload",t.fileList.length>0?"margin-left":""],on:{click:t.handleClick}},[a("input",{ref:"uploadImage",staticClass:"lk-upload-input",attrs:{type:"file",accept:".jpg, .jpeg, .png, .gif"},on:{change:t.doUpload}})]):t._e()],2)},r=[],i=(a("a9e3"),a("91b6")),o={props:{fileList:{type:Array,default:function(){return[]}},limit:{type:Number,default:1}},methods:{delImage:function(t){this.$emit("del",t)},handleClick:function(){this.$refs.uploadImage.click()},doUpload:function(t){var e=this,a=t.target.files[0];Object(i["a"])(a).then((function(t){e.$message.success("上传成功"),e.$refs.uploadImage.value=null,e.$emit("success",t)}))}}},c=o,l=(a("8b43"),a("2877")),s=Object(l["a"])(c,n,r,!1,null,"0725db80",null);e["a"]=s.exports}}]);
//# sourceMappingURL=chunk-70a7f3ec.3d5d2f53.js.map