(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58b9f786"],{"1daf":function(e,t,r){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var a=r("1d80"),o=r("5899"),n="["+o+"]",i=RegExp("^"+n+n+"*"),l=RegExp(n+n+"*$"),c=function(e){return function(t){var r=String(a(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(l,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(e,t,r){var a=r("861d"),o=r("d2bb");e.exports=function(e,t,r){var n,i;return o&&"function"==typeof(n=t.constructor)&&n!==r&&a(i=n.prototype)&&i!==r.prototype&&o(e,i),e}},"8b43":function(e,t,r){"use strict";r("1daf")},"91b6":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r("4020");function o(e){return Object(a["b"])("/file/upload-file",e)}},"9d4d":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"search-form"},[r("el-form",{attrs:{inline:!0,size:"small"}},[r("el-form-item",{attrs:{label:"品牌名称"}},[r("el-input",{attrs:{placeholder:"品牌名称"},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),r("el-form-item",{attrs:{label:"分类"}},[r("el-cascader",{attrs:{options:e.categoryOptions,props:{value:"id",label:"name",checkStrictly:!0},clearable:""},model:{value:e.searchForm.category,callback:function(t){e.$set(e.searchForm,"category",t)},expression:"searchForm.category"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")]),r("el-button",{attrs:{icon:"el-icon-refresh-left"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1),r("div",{staticClass:"table-view"},[r("div",{staticClass:"add-view"},[r("el-button",{attrs:{icon:"el-icon-plus",type:"primary",plain:""},on:{click:function(t){return e.openDialog("add")}}},[e._v("新增")])],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,align:"center"}},[r("el-table-column",{attrs:{prop:"id",label:"编号"}}),r("el-table-column",{attrs:{prop:"name",label:"名称"}}),r("el-table-column",{attrs:{label:"logo"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-image",{staticClass:"table-image",attrs:{fit:"cover",src:t.row.logoUrl,"preview-src-list":e._f("toArray")(t.row.logoUrl)}})]}}])}),r("el-table-column",{attrs:{prop:"categoryName",label:"分类"}}),r("el-table-column",{attrs:{prop:"created_at",label:"创建时间"}}),r("el-table-column",{attrs:{label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(r){return e.openDialog("edit",t.row)}}},[e._v(" 编辑 ")]),r("el-button",{attrs:{disabled:t.row.isDefault,size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(r){return e.del(t.row.id)}}},[e._v("删除 ")])]}}])})],1)],1),r("el-dialog",{attrs:{title:"add"===e.type?"添加品牌":"编辑品牌",visible:e.dialogVisible,width:"400px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"form",attrs:{size:"small",model:e.form,"label-width":"60px",rules:e.rules}},[r("el-form-item",{attrs:{label:"标题",prop:"name"}},[r("el-input",{attrs:{placeholder:"标题"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),"add"===e.type?r("el-form-item",{attrs:{label:"分类",prop:"category"}},[r("el-cascader",{attrs:{options:e.categoryOptions,props:{value:"id",label:"name",checkStrictly:!0},clearable:""},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}})],1):e._e(),r("el-form-item",{attrs:{label:"logo",prop:"logo"}},[r("upload",{attrs:{"file-list":e._f("toArray")(e.form.logo.url)},on:{success:e.upload,del:e.delImage}})],1),r("el-form-item",{attrs:{label:"官网"}},[r("el-input",{attrs:{placeholder:"官网链接"},model:{value:e.form.office_web,callback:function(t){e.$set(e.form,"office_web",t)},expression:"form.office_web"}})],1),r("el-form-item",{attrs:{label:"描述"}},[r("el-input",{attrs:{type:"textarea",placeholder:"品牌描述"},model:{value:e.form.brand_describe,callback:function(t){e.$set(e.form,"brand_describe",t)},expression:"form.brand_describe"}})],1),r("el-form-item",{attrs:{label:"故事"}},[r("el-input",{attrs:{type:"textarea",placeholder:"品牌故事"},model:{value:e.form.brand_story,callback:function(t){e.$set(e.form,"brand_story",t)},expression:"form.brand_story"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)],1)},o=[],n=(r("b0c0"),r("decf")),i=r("4020");function l(e){return Object(i["a"])("/brand/manage-list",e,!0)}function c(e){return Object(i["a"])("/brand/add",e,!0)}function s(e){return Object(i["a"])("/brand/update",e,!0)}function f(e){return Object(i["a"])("/brand/del",e,!0)}var u=r("c40e"),d={name:"index",components:{Upload:n["a"]},data:function(){return{tableData:[],type:"add",dialogVisible:!1,form:{name:"",category:"",brand_describe:"",brand_story:"",logo:{},office_web:""},rules:{name:[{required:!0,message:"请输入"}],category:[{required:!0,message:"请选择"}],logo:[{required:!0,message:"请上传"}]},categoryOptions:[],searchForm:{name:"",category:[]},editId:0}},mounted:function(){var e=this;this.getData(),Object(u["b"])().then((function(t){e.categoryOptions=t.list}))},methods:{del:function(e){var t=this;this.$confirm("确认删除该品牌?").then((function(){f({id:e}).then((function(){t.getData()}))}))},openDialog:function(e,t){this.type=e,this.dialogVisible=!0,"add"===e?this.form={name:"",category:"",brand_describe:"",brand_story:"",logo:{},office_web:""}:(this.editId=t.id,this.form={name:t.name,category:[t.category_id],brand_describe:t.brand_describe,brand_story:t.brand_story,logo:{url:t.logoUrl,path:t.logo},office_web:t.office_web})},submit:function(){var e=this;this.$refs["form"].validate((function(t){if(t){var r={name:e.form.name,brand_describe:e.form.brand_describe,brand_story:e.form.brand_story,logo:e.form.logo.path,office_web:e.form.office_web};e.form.category&&e.form.category.length>0&&(r.category_id=e.form.category[e.form.category.length-1]),"add"===e.type&&c(r).then((function(){e.$message.success("添加成功"),e.dialogVisible=!1,e.getData()})),"edit"===e.type&&(r.id=e.editId,s(r).then((function(){e.$message.success("修改成功"),e.dialogVisible=!1,e.getData()})))}}))},getData:function(){var e=this,t={name:this.searchForm.name};this.searchForm.category&&this.searchForm.category.length>0&&(t.category_id=this.searchForm.category[this.searchForm.category.length-1]),l(t).then((function(t){e.tableData=t.list}))},reset:function(){this.searchForm={name:"",category:[]}},search:function(){this.getData()},upload:function(e){this.form.logo=e},delImage:function(){this.form.logo={}}}},m=d,b=r("2877"),p=Object(b["a"])(m,a,o,!1,null,"6f396a53",null);t["default"]=p.exports},a9e3:function(e,t,r){"use strict";var a=r("83ab"),o=r("da84"),n=r("94ca"),i=r("6eeb"),l=r("5135"),c=r("c6b6"),s=r("7156"),f=r("c04e"),u=r("d039"),d=r("7c73"),m=r("241c").f,b=r("06cf").f,p=r("9bf2").f,g=r("58a8").trim,h="Number",y=o[h],v=y.prototype,_=c(d(v))==h,k=function(e){var t,r,a,o,n,i,l,c,s=f(e,!1);if("string"==typeof s&&s.length>2)if(s=g(s),t=s.charCodeAt(0),43===t||45===t){if(r=s.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(s.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+s}for(n=s.slice(2),i=n.length,l=0;l<i;l++)if(c=n.charCodeAt(l),c<48||c>o)return NaN;return parseInt(n,a)}return+s};if(n(h,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var w,I=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof I&&(_?u((function(){v.valueOf.call(r)})):c(r)!=h)?s(new y(k(t)),r,I):k(t)},O=a?m(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),j=0;O.length>j;j++)l(y,w=O[j])&&!l(I,w)&&p(I,w,b(y,w));I.prototype=v,v.constructor=I,i(o,h,I)}},b0c0:function(e,t,r){var a=r("83ab"),o=r("9bf2").f,n=Function.prototype,i=n.toString,l=/^\s*function ([^ (]*)/,c="name";a&&!(c in n)&&o(n,c,{configurable:!0,get:function(){try{return i.call(this).match(l)[1]}catch(e){return""}}})},c40e:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return n})),r.d(t,"f",(function(){return i})),r.d(t,"e",(function(){return l})),r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return s}));var a=r("4020");function o(e){return Object(a["c"])("/project/add",e,!0)}function n(e){return Object(a["c"])("/project/del",e,!0)}function i(e){return Object(a["a"])("project/manage-list",e,!0)}function l(e){return Object(a["a"])("project/detail-page",e,!0)}function c(){return Object(a["a"])("brand/manage-list",{},!1)}function s(){return Object(a["a"])("category/manage-list",{},!1)}},decf:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"upload-view"},[e._l(e.fileList,(function(t,a){return r("div",{key:a,class:["lk-upload-image-container",0!==a?"margin-left":""]},[r("el-image",{staticClass:"lk-upload-image",attrs:{"preview-src-list":e.fileList,src:t,fit:"cover"}}),r("i",{staticClass:"el-icon-remove del-image",on:{click:function(t){return e.delImage(a)}}})],1)})),e.limit>e.fileList.length?r("div",{class:["lk-upload",e.fileList.length>0?"margin-left":""],on:{click:e.handleClick}},[r("input",{ref:"uploadImage",staticClass:"lk-upload-input",attrs:{type:"file",accept:".jpg, .jpeg, .png, .gif"},on:{change:e.doUpload}})]):e._e()],2)},o=[],n=(r("a9e3"),r("91b6")),i={props:{fileList:{type:Array,default:function(){return[]}},limit:{type:Number,default:1}},methods:{delImage:function(e){this.$emit("del",e)},handleClick:function(){this.$refs.uploadImage.click()},doUpload:function(e){var t=this,r=e.target.files[0];Object(n["a"])(r).then((function(e){t.$message.success("上传成功"),t.$refs.uploadImage.value=null,t.$emit("success",e)}))}}},l=i,c=(r("8b43"),r("2877")),s=Object(c["a"])(l,a,o,!1,null,"0725db80",null);t["a"]=s.exports}}]);
//# sourceMappingURL=chunk-58b9f786.f49e0681.js.map