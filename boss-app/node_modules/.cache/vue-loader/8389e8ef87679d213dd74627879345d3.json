{"remainingRequest":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\shop-frontend\\boss-app\\src\\view\\member\\recharge.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\shop-frontend\\boss-app\\src\\view\\member\\recharge.vue","mtime":1648487848335},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632657941567},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\babel-loader\\lib\\index.js","mtime":1632657941543},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632657941567},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\vue-loader\\lib\\index.js","mtime":1632657960293}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7cmVjaGFyZ2VfbGlzdCwgcmVjaGFyZ2VfdmVyaWZ5fSBmcm9tICIuLi8uLi9hcGkvbWVtYmVyIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJpbmRleCIsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgICAgICAgIHRvdGFsOiAwLAogICAgICAgICAgICBwYWdlTnVtYmVyOiAxLAogICAgICAgICAgICBzZWFyY2hGb3JtOiB7CiAgICAgICAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgICAgICAgIGJyYW5kX2lkOiAnJywKICAgICAgICAgICAgICAgIGF1ZGl0X3N0YXR1czogJycsCiAgICAgICAgICAgICAgICBjYXRlZ29yeTogW10KICAgICAgICAgICAgfSwKICAgICAgICAgICAgYnJhbmRPcHRpb25zOiBbXSwKICAgICAgICAgICAgY2F0ZWdvcnlPcHRpb25zOiBbXSwKICAgICAgICAgICAgYXVkaXRPcHRpb25zOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImNvZGUiOiAiMSIsCgogICAgICAgICAgICAgICAgICAgICJuYW1lIjogIuWuoeaguOmAmui/hyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImNvZGUiOiAiMiIsCgogICAgICAgICAgICAgICAgICAgICJuYW1lIjogIuW+heWuoeaguCIKCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJjb2RlIjogIjMiLAoKICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICLlt7LpqbPlm54iCgogICAgICAgICAgICAgICAgfV0sCiAgICAgICAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICAgICAgICB2ZXJpZnlWaXNpYmxlOiBmYWxzZSwKICAgICAgICAgICAgZGF0YToge30sCiAgICAgICAgICAgIHZlcmlmeTogMQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBnZXREYXRhKCkgewogICAgICAgICAgICBsZXQgcGFyYW1zID0gewogICAgICAgICAgICAgICAgcGFnZTogdGhpcy5wYWdlTnVtYmVyLAogICAgICAgICAgICB9OwogICAgICAgICAgICByZWNoYXJnZV9saXN0KHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXMubGlzdDsKICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5jb3VudDsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGN1cnJlbnRDaGFuZ2UoZSkgewogICAgICAgICAgICB0aGlzLnBhZ2VOdW1iZXIgPSBlOwogICAgICAgICAgICB0aGlzLmdldERhdGEoKTsKICAgICAgICB9LAogICAgICAgIGRldGFpbChkYXRhKSB7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7CiAgICAgICAgfSwKICAgICAgICBzYXZlKCkgewogICAgICAgICAgICByZWNoYXJnZV92ZXJpZnkoe2lkOiB0aGlzLmRhdGEuaWQsIGF1ZGl0X3N0YXR1czogdGhpcy52ZXJpZnl9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5a6h5qC45oiQ5YqfIik7CiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMudmVyaWZ5VmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["recharge.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"recharge.vue","sourceRoot":"src/view/member","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"table-view\">\r\n            <el-table :data=\"tableData\" style=\"width: 100%\" align=\"center\">\r\n                <el-table-column prop=\"relation_no\" label=\"卡号\"></el-table-column>\r\n                <el-table-column prop=\"pay_tpe_name\" label=\"支付方式\"></el-table-column>\r\n                <el-table-column prop=\"money\" label=\"金额\"></el-table-column>\r\n                <el-table-column prop=\"created_at\" label=\"创建时间\"></el-table-column>\r\n                <el-table-column prop=\"pay_at\" label=\"支付时间\"></el-table-column>\r\n                <el-table-column prop=\"audit_at\" label=\"审核时间\"></el-table-column>\r\n                <el-table-column prop=\"audit_user\" label=\"审核人\"></el-table-column>\r\n                <el-table-column prop=\"audit_name\" label=\"状态\"></el-table-column>\r\n                <el-table-column label=\"操作\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button type=\"text\" @click=\"detail(scope.row)\">查看</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n        <el-pagination class=\"page\" background layout=\"total,prev, pager, next\" :total=\"total\"\r\n                       @current-change=\"currentChange\"></el-pagination>\r\n        <el-dialog title=\"信息\" :visible.sync=\"dialogVisible\" width=\"400px\" append-to-body>\r\n            <div class=\"detail-item\">\r\n                <div>支付类型</div>\r\n                <div>{{data.pay_tpe_name}}</div>\r\n            </div>\r\n            <div class=\"detail-item\" v-if=\"data.pay_type===4\">\r\n                <div>银行</div>\r\n                <div>{{data.bank_type_name}}</div>\r\n            </div>\r\n            <div class=\"detail-item\">\r\n                <div>金额</div>\r\n                <div class=\"price\">{{data.money}}</div>\r\n            </div>\r\n            <div class=\"detail-item\">\r\n                <div>创建时间</div>\r\n                <div>{{data.created_at}}</div>\r\n            </div>\r\n            <div class=\"detail-item\">\r\n                <div>支付时间</div>\r\n                <div>{{data.pay_at}}</div>\r\n            </div>\r\n            <div class=\"detail-item\">\r\n                <div>卡号</div>\r\n                <div>{{data.relation_no}}</div>\r\n            </div>\r\n            <div class=\"detail-item\">\r\n                <div>支付凭证</div>\r\n                <div>\r\n                    <el-image class=\"file-image\" v-for=\"item in data.file\" :key=\"item\" :src=\"item\"\r\n                              :preview-src-list=\"data.file\" fit=\"cover\" z-index=\"20000\"></el-image>\r\n                </div>\r\n            </div>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button size=\"small\" @click=\"dialogVisible = false\">取 消</el-button>\r\n                <el-button size=\"small\" type=\"primary\" v-if=\"data.audit_name==='待审核'\"\r\n                           @click=\"verifyVisible=true\">审 核</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n        <el-dialog title=\"审核\" :visible.sync=\"verifyVisible\" width=\"400px\" append-to-body>\r\n            <el-radio-group v-model=\"verify\">\r\n                <el-radio :label=\"1\">通过</el-radio>\r\n                <el-radio :label=\"3\">拒绝</el-radio>\r\n            </el-radio-group>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button size=\"small\" type=\"primary\" @click=\"save\">保 存</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {recharge_list, recharge_verify} from \"../../api/member\";\r\n\r\n    export default {\r\n        name: \"index\",\r\n        data() {\r\n            return {\r\n                tableData: [],\r\n                total: 0,\r\n                pageNumber: 1,\r\n                searchForm: {\r\n                    name: '',\r\n                    brand_id: '',\r\n                    audit_status: '',\r\n                    category: []\r\n                },\r\n                brandOptions: [],\r\n                categoryOptions: [],\r\n                auditOptions: [\r\n                    {\r\n                        \"code\": \"1\",\r\n\r\n                        \"name\": \"审核通过\"\r\n                    },\r\n                    {\r\n                        \"code\": \"2\",\r\n\r\n                        \"name\": \"待审核\"\r\n\r\n                    },\r\n                    {\r\n                        \"code\": \"3\",\r\n\r\n                        \"name\": \"已驳回\"\r\n\r\n                    }],\r\n                dialogVisible: false,\r\n                verifyVisible: false,\r\n                data: {},\r\n                verify: 1\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getData();\r\n        },\r\n        methods: {\r\n            getData() {\r\n                let params = {\r\n                    page: this.pageNumber,\r\n                };\r\n                recharge_list(params).then(res => {\r\n                    this.tableData = res.list;\r\n                    this.total = res.data.count;\r\n                })\r\n            },\r\n            currentChange(e) {\r\n                this.pageNumber = e;\r\n                this.getData();\r\n            },\r\n            detail(data) {\r\n                this.dialogVisible = true;\r\n                this.data = data;\r\n            },\r\n            save() {\r\n                recharge_verify({id: this.data.id, audit_status: this.verify}).then(() => {\r\n                    this.$message.success(\"审核成功\");\r\n                    this.dialogVisible = false;\r\n                    this.verifyVisible = false;\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .detail-item {\r\n        display: flex;\r\n        margin-top: 10px;\r\n    }\r\n\r\n    .detail-item div:nth-child(1) {\r\n        width: 80px;\r\n    }\r\n\r\n    .price {\r\n        color: #ff4d51;\r\n    }\r\n\r\n    .price::before {\r\n        content: '¥';\r\n    }\r\n\r\n    .file-image {\r\n        width: 80px;\r\n        height: 80px;\r\n        border-radius: 5px;\r\n        margin-left: 5px;\r\n        padding: 2px;\r\n        border: 1px dashed #e9e9eb;\r\n    }\r\n\r\n\r\n</style>"]}]}