{"remainingRequest":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace\\shop-frontend\\boss-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\workspace\\shop-frontend\\boss-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\shop-frontend\\boss-app\\src\\view\\goods\\list\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\shop-frontend\\boss-app\\src\\view\\goods\\list\\index.vue","mtime":1648649306722},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632657941567},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\babel-loader\\lib\\index.js","mtime":1632657941543},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632657941567},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\vue-loader\\lib\\index.js","mtime":1632657960293},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632657941567},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\babel-loader\\lib\\index.js","mtime":1632657941543},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632657941567},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\vue-loader\\lib\\index.js","mtime":1632657960293}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdvb2RzX3BhZ2UsIGJyYW5kX29wdGlvbnMsIGNhdGVnb3J5X29wdGlvbnMsIGdvb2RzX2RlbCB9IGZyb20gIi4uLy4uLy4uL2FwaS9nb29kcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaW5kZXgiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJsZURhdGE6IFtdLAogICAgICB0b3RhbDogMCwKICAgICAgcGFnZU51bWJlcjogMSwKICAgICAgc2VhcmNoRm9ybTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGJyYW5kX2lkOiAnJywKICAgICAgICBhdWRpdF9zdGF0dXM6ICcnLAogICAgICAgIGNhdGVnb3J5OiBbXQogICAgICB9LAogICAgICBicmFuZE9wdGlvbnM6IFtdLAogICAgICBjYXRlZ29yeU9wdGlvbnM6IFtdLAogICAgICBhdWRpdE9wdGlvbnM6IFt7CiAgICAgICAgImNvZGUiOiAiMSIsCiAgICAgICAgIm5hbWUiOiAi5a6h5qC46YCa6L+HIgogICAgICB9LCB7CiAgICAgICAgImNvZGUiOiAiMiIsCiAgICAgICAgIm5hbWUiOiAi5b6F5a6h5qC4IgogICAgICB9LCB7CiAgICAgICAgImNvZGUiOiAiMyIsCiAgICAgICAgIm5hbWUiOiAi5bey6amz5ZueIgogICAgICB9XQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgYnJhbmRfb3B0aW9ucygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpcy5icmFuZE9wdGlvbnMgPSByZXMubGlzdDsKICAgIH0pOwogICAgY2F0ZWdvcnlfb3B0aW9ucygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpcy5jYXRlZ29yeU9wdGlvbnMgPSByZXMubGlzdDsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZGVsOiBmdW5jdGlvbiBkZWwoaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTliKDpmaTor6XllYblk4E/JykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgZ29vZHNfZGVsKHsKICAgICAgICAgIGlkOiBpZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLmdldERhdGEoKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIHBhZ2U6IHRoaXMucGFnZU51bWJlciwKICAgICAgICBicmFuZF9pZDogdGhpcy5zZWFyY2hGb3JtLmJyYW5kX2lkLAogICAgICAgIG5hbWU6IHRoaXMuc2VhcmNoRm9ybS5uYW1lLAogICAgICAgIGF1ZGl0X3N0YXR1czogdGhpcy5zZWFyY2hGb3JtLmF1ZGl0X3N0YXR1cwogICAgICB9OwoKICAgICAgaWYgKHRoaXMuc2VhcmNoRm9ybS5jYXRlZ29yeSAmJiB0aGlzLnNlYXJjaEZvcm0uY2F0ZWdvcnkubGVuZ3RoID4gMCkgewogICAgICAgIHBhcmFtcy5jYXRlZ29yeV9pZCA9IHRoaXMuc2VhcmNoRm9ybS5jYXRlZ29yeVt0aGlzLnNlYXJjaEZvcm0uY2F0ZWdvcnkubGVuZ3RoIC0gMV07CiAgICAgIH0KCiAgICAgIGdvb2RzX3BhZ2UocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMudGFibGVEYXRhID0gcmVzLmxpc3Q7CiAgICAgICAgX3RoaXMzLnRvdGFsID0gcmVzLmRhdGEuY291bnQ7CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5zZWFyY2hGb3JtID0gewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGF1ZGl0X3N0YXR1czogJycsCiAgICAgICAgYnJhbmRfaWQ6ICcnLAogICAgICAgIGNhdGVnb3J5OiBbXQogICAgICB9OwogICAgfSwKICAgIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKCkgewogICAgICB0aGlzLnBhZ2VOdW1iZXIgPSAxOwogICAgICB0aGlzLmdldERhdGEoKTsKICAgIH0sCiAgICBjdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBjdXJyZW50Q2hhbmdlKGUpIHsKICAgICAgdGhpcy5wYWdlTnVtYmVyID0gZTsKICAgICAgdGhpcy5nZXREYXRhKCk7CiAgICB9LAogICAgbGlua0FkZDogZnVuY3Rpb24gbGlua0FkZCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvZ29vZHMvYWRkIgogICAgICB9KTsKICAgIH0sCiAgICBsaW5rRWRpdDogZnVuY3Rpb24gbGlua0VkaXQoaWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvZ29vZHMvZWRpdCIsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGlkOiBpZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"search-form\">\r\n            <el-form :inline=\"true\" size=\"small\">\r\n                <el-form-item label=\"商品名称\">\r\n                    <el-input v-model=\"searchForm.name\" placeholder=\"商品名称\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"品牌\">\r\n                    <el-select v-model=\"searchForm.brand_id\" style=\"width: 100px\" clearable>\r\n                        <el-option v-for=\"item in brandOptions\" :key=\"item.id\" :label=\"item.name\"\r\n                                   :value=\"item.id\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"分类\">\r\n                    <el-cascader v-model=\"searchForm.category\" :options=\"categoryOptions\" :props=\"{value:'id',label:'name' }\r\n                    \" clearable></el-cascader>\r\n                </el-form-item>\r\n                <el-form-item label=\"状态\">\r\n                    <el-select v-model=\"searchForm.audit_status\" style=\"width: 100px\" clearable>\r\n                        <el-option v-for=\"item in auditOptions\" :key=\"item.code\" :label=\"item.name\" :value=\"item.code\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"search\">查询</el-button>\r\n                    <el-button icon=\"el-icon-refresh-left\" @click=\"reset\">重置</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n        <div class=\"table-view\">\r\n            <div class=\"add-view\">\r\n                <el-button icon=\"el-icon-plus\" type=\"primary\" plain @click=\"linkAdd\">新增</el-button>\r\n            </div>\r\n            <el-table :data=\"tableData\" style=\"width: 100%\" align=\"center\">\r\n                <el-table-column prop=\"id\" label=\"商品编号\"></el-table-column>\r\n                <el-table-column prop=\"shop_name\" label=\"店铺\"></el-table-column>\r\n                <el-table-column prop=\"name\" label=\"商品名称\" show-overflow-tooltip></el-table-column>\r\n                <el-table-column label=\"商品图\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-image class=\"table-image\" :src=\"scope.row.thumbnail\"\r\n                                  :preview-src-list=\"scope.row.thumbnail |toArray\"/>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"price\" label=\"价格\"></el-table-column>\r\n                <el-table-column prop=\"brand_name\" label=\"品牌\"></el-table-column>\r\n                <el-table-column prop=\"created_at\" label=\"创建日期\"></el-table-column>\r\n                <el-table-column label=\"状态\" prop=\"audit_name\"></el-table-column>\r\n                <el-table-column label=\"操作\" width=\"200px\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-edit\" @click=\"linkEdit(scope.row.id)\">\r\n                            编辑\r\n                        </el-button>\r\n                        <el-button size=\"mini\" type=\"danger\" icon=\"el-icon-delete\" @click=\"del(scope.row.id)\">删除\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n        <el-pagination class=\"page\" background layout=\"total,prev, pager, next\" :total=\"total\"\r\n                       @current-change=\"currentChange\"></el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {goods_page, brand_options, category_options, goods_del} from \"../../../api/goods\";\r\n\r\n    export default {\r\n        name: \"index\",\r\n        data() {\r\n            return {\r\n                tableData: [],\r\n                total: 0,\r\n                pageNumber: 1,\r\n                searchForm: {\r\n                    name: '',\r\n                    brand_id: '',\r\n                    audit_status: '',\r\n                    category: []\r\n                },\r\n                brandOptions: [],\r\n                categoryOptions: [],\r\n                auditOptions: [\r\n                    {\r\n                        \"code\": \"1\",\r\n\r\n                        \"name\": \"审核通过\"\r\n                    },\r\n                    {\r\n                        \"code\": \"2\",\r\n\r\n                        \"name\": \"待审核\"\r\n\r\n                    },\r\n                    {\r\n                        \"code\": \"3\",\r\n\r\n                        \"name\": \"已驳回\"\r\n\r\n                    }]\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getData();\r\n            brand_options().then(res => {\r\n                this.brandOptions = res.list;\r\n            });\r\n            category_options().then(res => {\r\n                this.categoryOptions = res.list;\r\n            })\r\n        },\r\n        methods: {\r\n            del(id) {\r\n                this.$confirm('确认删除该商品?')\r\n                    .then(() => {\r\n                        goods_del({id}).then(() => {\r\n                            this.getData();\r\n                        })\r\n                    })\r\n            },\r\n            getData() {\r\n                let params = {\r\n                    page: this.pageNumber,\r\n                    brand_id: this.searchForm.brand_id,\r\n                    name: this.searchForm.name,\r\n                    audit_status: this.searchForm.audit_status\r\n                };\r\n                if (this.searchForm.category && this.searchForm.category.length > 0) {\r\n                    params.category_id = this.searchForm.category[this.searchForm.category.length - 1]\r\n                }\r\n                goods_page(params).then(res => {\r\n                    this.tableData = res.list;\r\n                    this.total = res.data.count;\r\n                })\r\n            },\r\n            reset() {\r\n                this.searchForm = {\r\n                    name: '',\r\n                    audit_status: '',\r\n                    brand_id: '',\r\n                    category: []\r\n                }\r\n            },\r\n            search() {\r\n                this.pageNumber = 1;\r\n                this.getData();\r\n            },\r\n            currentChange(e) {\r\n                this.pageNumber = e;\r\n                this.getData();\r\n            },\r\n            linkAdd() {\r\n                this.$router.push({\r\n                    path: \"/goods/add\"\r\n                })\r\n            },\r\n            linkEdit(id) {\r\n                this.$router.push({\r\n                    path: \"/goods/edit\",\r\n                    query: {\r\n                        id: id\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/view/goods/list"}]}