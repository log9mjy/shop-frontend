{"remainingRequest":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace\\shop-frontend\\boss-app\\src\\util\\request.js","dependencies":[{"path":"D:\\workspace\\shop-frontend\\boss-app\\src\\util\\request.js","mtime":1648482459382},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632657941567},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\babel-loader\\lib\\index.js","mtime":1632657941543}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBxcyBmcm9tICdxcyc7CmltcG9ydCB7IGdldF90b2tlbiwgcmVtb3ZlX3Rva2VuIH0gZnJvbSAnLi4vdXRpbC90b2tlbic7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXVpIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi9yb3V0ZXIiOwppbXBvcnQgeyBzaG93TG9hZGluZywgaGlkZUxvYWRpbmcgfSBmcm9tICIuLi91dGlsL2xvYWRpbmciOwppbXBvcnQgbWQ1IGZyb20gJ2pzLW1kNSc7CnZhciBiYXNlVVJMID0gImh0dHA6Ly93cy5wYW9taWFvLmNuL3YxIjsgLy/mjqXlj6Pln5/lkI0KCmF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSBiYXNlVVJMOyAvL2dldOaWueazle+8mgoKdmFyIGdldCA9IGZ1bmN0aW9uIGdldCh1cmwsIHBhcmFtcywgbG9hZGluZykgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBpZiAobG9hZGluZykgewogICAgICBzaG93TG9hZGluZygpOwogICAgfQoKICAgIGF4aW9zLmdldCh1cmwsIHsKICAgICAgcGFyYW1zOiBwYXJhbXMKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGlmIChsb2FkaW5nKSB7CiAgICAgICAgaGlkZUxvYWRpbmcoKTsKICAgICAgfQoKICAgICAgcmVzb2x2ZShyZXNwb25zZS5kYXRhKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBoaWRlTG9hZGluZygpOwogICAgICByZWplY3QoZXJyb3IpOwogICAgfSk7CiAgfSk7Cn07IC8vcG9zdOaWueazle+8mgoKCnZhciBwb3N0ID0gZnVuY3Rpb24gcG9zdCh1cmwsIGRhdGEsIGxvYWRpbmcpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgaWYgKGxvYWRpbmcpIHsKICAgICAgc2hvd0xvYWRpbmcoKTsKICAgIH0KCiAgICBheGlvcy5wb3N0KHVybCwgZGF0YSwge30pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGlmIChsb2FkaW5nKSB7CiAgICAgICAgaGlkZUxvYWRpbmcoKTsKICAgICAgfQoKICAgICAgcmVzb2x2ZShyZXNwb25zZS5kYXRhKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBoaWRlTG9hZGluZygpOwogICAgICByZWplY3QoZXJyb3IpOwogICAgfSk7CiAgfSk7Cn07IC8vcG9zdOaWueazle+8mgoKCnZhciBwb3N0X2pzb24gPSBmdW5jdGlvbiBwb3N0X2pzb24odXJsLCBkYXRhLCBsb2FkaW5nKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIGlmIChsb2FkaW5nKSB7CiAgICAgIHNob3dMb2FkaW5nKCk7CiAgICB9CgogICAgYXhpb3MucG9zdCh1cmwsIGRhdGEsIHt9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBpZiAobG9hZGluZykgewogICAgICAgIGhpZGVMb2FkaW5nKCk7CiAgICAgIH0KCiAgICAgIHJlc29sdmUocmVzcG9uc2UuZGF0YSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgaGlkZUxvYWRpbmcoKTsKICAgICAgcmVqZWN0KGVycm9yKTsKICAgIH0pOwogIH0pOwp9OyAvLyBkZWxldGXor7fmsYIKCgp2YXIgZGVsID0gZnVuY3Rpb24gZGVsKHVybCwgZGF0YSkgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBheGlvcy5kZWxldGUodXJsLCB7CiAgICAgIGRhdGE6IGRhdGEKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHJlc29sdmUocmVzcG9uc2UuZGF0YSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgcmVqZWN0KGVycm9yKTsKICAgIH0pOwogIH0pOwp9OwoKdmFyIHBvc3RfZm9ybSA9IGZ1bmN0aW9uIHBvc3RfZm9ybSh1cmwsIGZpbGUpIHsKICB2YXIgZm9ybXMgPSBuZXcgRm9ybURhdGEoKTsKICBmb3Jtcy5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgYXhpb3MucG9zdCh1cmwsIGZvcm1zLCB7CiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICAgIH0KICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgIGlmIChkYXRhLnN0YXRlID09PSAxKSB7CiAgICAgICAgcmVzb2x2ZShkYXRhLmRhdGEpOwogICAgICB9IGVsc2UgewogICAgICAgIE1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogICAgICB9CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgcmVqZWN0KGVycm9yKTsKICAgIH0pOwogIH0pOwp9OyAvLyBwdXTor7fmsYIKCgp2YXIgcHV0ID0gZnVuY3Rpb24gcHV0KHVybCwgZGF0YSkgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBheGlvcy5wdXQodXJsLCBxcy5zdHJpbmdpZnkoZGF0YSksIHsKICAgICAgaGVhZGVyczogewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJwogICAgICB9CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICByZXNvbHZlKHJlc3BvbnNlLmRhdGEpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIHJlamVjdChlcnJvcik7CiAgICB9KTsKICB9KTsKfTsKCnZhciBnZXRfZXhwb3J0ID0gZnVuY3Rpb24gZ2V0X2V4cG9ydCh1cmwsIHBhcmFtcykgewogIHZhciB0b2tlbiA9IGdldF90b2tlbigpOwogIHVybCA9IGJhc2VVUkwgKyB1cmwgKyAiPyI7CgogIGlmICh0b2tlbikgewogICAgdXJsID0gdXJsICsgInRva2VuPSIgKyB0b2tlbjsKICB9CgogIHJldHVybiB1cmwgKyBwYXJhbXM7Cn07IC8vIOivt+axguaLpuaIquWZqAoKCmF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgdmFyIHRva2VuID0gZ2V0X3Rva2VuKCk7CiAgdmFyIHN0ciA9ICJ3ZWJ8YXxifGN8Ii5jb25jYXQodG9rZW4sICJ8IikuY29uY2F0KE1hdGguZmxvb3IobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKSwgInwiKTsKICB2YXIgc2lnbiA9IG1kNShzdHIpOwogIGNvbmZpZy51cmwgPSBjb25maWcudXJsICsgIj9fdWE9IiArIHN0ciArIHNpZ247CiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycikgewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpOwp9KTsgLy8g5ZON5bqU5oum5oiq5ZmoCgpheGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXMpIHsKICAvL+WFtuS7luexu+Wei+W8guW4uAogIGlmIChyZXMuZGF0YS5zdGF0ZSAhPT0gMSkgewogICAgTWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOwogICAgcmV0dXJuOwogIH0KCiAgcmV0dXJuIHJlczsKfSwgZnVuY3Rpb24gKGVycikgewogIC8v5pyN5Yqh5Zmo5Ye66ZSZCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7Cn0pOwpleHBvcnQgeyBwb3N0LCBnZXQsIGRlbCwgcHV0LCBwb3N0X2pzb24sIHBvc3RfZm9ybSwgZ2V0X2V4cG9ydCB9Ow=="},{"version":3,"sources":["D:/workspace/shop-frontend/boss-app/src/util/request.js"],"names":["axios","qs","get_token","remove_token","Message","router","showLoading","hideLoading","md5","baseURL","defaults","get","url","params","loading","Promise","resolve","reject","then","response","data","catch","error","post","post_json","del","delete","post_form","file","forms","FormData","append","headers","state","msg","put","stringify","get_export","token","interceptors","request","use","config","str","Math","floor","Date","getTime","sign","err","res"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport qs from 'qs';\r\nimport {get_token, remove_token} from '../util/token'\r\nimport {Message} from \"element-ui\";\r\nimport router from \"../router\"\r\nimport {showLoading, hideLoading} from \"../util/loading\";\r\nimport md5 from 'js-md5';\r\n\r\nlet baseURL = \"http://ws.paomiao.cn/v1\";\r\n//接口域名\r\naxios.defaults.baseURL = baseURL;\r\n\r\n\r\n//get方法：\r\nconst get = (url, params, loading) => {\r\n    return new Promise((resolve, reject) => {\r\n        if (loading) {\r\n            showLoading();\r\n        }\r\n        axios.get(url, {params: params})\r\n            .then((response) => {\r\n                if (loading) {\r\n                    hideLoading();\r\n                }\r\n                resolve(response.data);\r\n            })\r\n            .catch((error) => {\r\n                hideLoading();\r\n                reject(error);\r\n            });\r\n    })\r\n};\r\n\r\n//post方法：\r\nconst post = (url, data, loading) => {\r\n    return new Promise((resolve, reject) => {\r\n        if (loading) {\r\n            showLoading();\r\n        }\r\n        axios.post(url, data, {})\r\n            .then((response) => {\r\n                if (loading) {\r\n                    hideLoading();\r\n                }\r\n                resolve(response.data);\r\n            })\r\n            .catch((error) => {\r\n                hideLoading();\r\n                reject(error);\r\n            });\r\n    })\r\n};\r\n\r\n//post方法：\r\nconst post_json = (url, data, loading) => {\r\n    return new Promise((resolve, reject) => {\r\n        if (loading) {\r\n            showLoading();\r\n        }\r\n        axios.post(url, data, {})\r\n            .then((response) => {\r\n                if (loading) {\r\n                    hideLoading();\r\n                }\r\n                resolve(response.data);\r\n            })\r\n            .catch((error) => {\r\n                hideLoading();\r\n                reject(error);\r\n            });\r\n    })\r\n};\r\n\r\n\r\n// delete请求\r\nconst del = (url, data) => {\r\n    return new Promise((resolve, reject) => {\r\n        axios.delete(url, {data})\r\n            .then((response) => {\r\n                resolve(response.data);\r\n            })\r\n            .catch((error) => {\r\n                reject(error);\r\n            });\r\n    })\r\n};\r\n\r\nconst post_form = (url, file) => {\r\n    let forms = new FormData();\r\n    forms.append('file', file);\r\n    return new Promise((resolve, reject) => {\r\n        axios.post(url, forms, {\r\n            headers: {'Content-Type': 'multipart/form-data'}\r\n        })\r\n            .then((response) => {\r\n                let data = response.data;\r\n                if (data.state === 1) {\r\n                    resolve(data.data);\r\n                } else {\r\n                    Message.error(data.msg)\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                reject(error);\r\n            });\r\n    })\r\n};\r\n\r\n\r\n// put请求\r\nconst put = (url, data) => {\r\n    return new Promise((resolve, reject) => {\r\n        axios.put(url, qs.stringify(data), {\r\n            headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n        })\r\n            .then((response) => {\r\n                resolve(response.data);\r\n            })\r\n            .catch((error) => {\r\n                reject(error);\r\n\r\n            });\r\n    })\r\n};\r\n\r\nconst get_export = (url, params) => {\r\n    let token = get_token();\r\n    url = baseURL + url + \"?\";\r\n    if (token) {\r\n        url = url + \"token=\" + token;\r\n    }\r\n    return url + params;\r\n};\r\n\r\n// 请求拦截器\r\naxios.interceptors.request.use(function (config) {\r\n    let token = get_token();\r\n    let str = `web|a|b|c|${token}|${Math.floor(new Date().getTime() / 1000)}|`;\r\n    let sign = md5(str);\r\n    config.url = config.url + \"?_ua=\" + str + sign;\r\n    return config;\r\n}, err => {\r\n    return Promise.reject(err)\r\n});\r\n\r\n\r\n// 响应拦截器\r\naxios.interceptors.response.use(function (res) {\r\n    //其他类型异常\r\n    if (res.data.state !== 1) {\r\n        Message.error(res.data.msg);\r\n        return\r\n    }\r\n    return res;\r\n}, err => {\r\n    //服务器出错\r\n    return Promise.reject(err);\r\n});\r\n\r\nexport {\r\n    post,\r\n    get,\r\n    del,\r\n    put,\r\n    post_json,\r\n    post_form,\r\n    get_export\r\n}\r\n"]}]}