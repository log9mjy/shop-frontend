{"remainingRequest":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace\\shop-frontend\\boss-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\workspace\\shop-frontend\\boss-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\shop-frontend\\boss-app\\src\\view\\goods\\category\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\shop-frontend\\boss-app\\src\\view\\goods\\category\\index.vue","mtime":1648482459382},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632657941567},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\babel-loader\\lib\\index.js","mtime":1632657941543},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632657941567},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\vue-loader\\lib\\index.js","mtime":1632657960293}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBVcGxvYWQgZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy91cGxvYWQiOwppbXBvcnQgeyBjYXRlZ29yeV9kZWwsIGNhdGVnb3J5X2VkaXQsIGNhdGVnb3J5X2xpc3QsIGNhdGVnb3J5X2FkZCB9IGZyb20gIi4uLy4uLy4uL2FwaS9nb29kc19jYXRlZ29yeSI7CmltcG9ydCB7IGNhdGVnb3J5X29wdGlvbnMgfSBmcm9tICIuLi8uLi8uLi9hcGkvZ29vZHMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImluZGV4IiwKICBjb21wb25lbnRzOiB7CiAgICBVcGxvYWQ6IFVwbG9hZAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHR5cGU6ICdhZGQnLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGNhdGVnb3J5OiAnJywKICAgICAgICBsb2dvOiB7fQogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIG5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaUnCiAgICAgICAgfV0sCiAgICAgICAgbG9nbzogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+S4iuS8oCcKICAgICAgICB9XQogICAgICB9LAogICAgICBjYXRlZ29yeU9wdGlvbnM6IFtdLAogICAgICBzZWFyY2hGb3JtOiB7CiAgICAgICAgY2F0ZWdvcnk6IFtdCiAgICAgIH0sCiAgICAgIGVkaXRJZDogMCwKICAgICAgcGlkOiAwCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5nZXREYXRhKCk7CiAgICBjYXRlZ29yeV9vcHRpb25zKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzLmNhdGVnb3J5T3B0aW9ucyA9IHJlcy5saXN0OwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBkZWw6IGZ1bmN0aW9uIGRlbChpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruiupOWIoOmZpOivpeWIhuexuz8nKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBjYXRlZ29yeV9kZWwoewogICAgICAgICAgaWQ6IGlkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuZ2V0RGF0YSgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBvcGVuRGlhbG9nOiBmdW5jdGlvbiBvcGVuRGlhbG9nKHR5cGUsIHBpZCwgZGF0YSkgewogICAgICB0aGlzLnR5cGUgPSB0eXBlOwogICAgICB0aGlzLnBpZCA9IHBpZDsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKCiAgICAgIGlmICh0eXBlID09PSAnYWRkJykgewogICAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgbG9nbzoge30KICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZWRpdElkID0gZGF0YS5pZDsKICAgICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsCiAgICAgICAgICBsb2dvOiB7CiAgICAgICAgICAgIHVybDogZGF0YS5sb2dvCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmIChfdGhpczMudHlwZSA9PT0gJ2FkZCcpIHsKICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgICBuYW1lOiBfdGhpczMuZm9ybS5uYW1lLAogICAgICAgICAgICAgIHBpZDogX3RoaXMzLnBpZCwKICAgICAgICAgICAgICBsb2dvOiBfdGhpczMuZm9ybS5sb2dvLnBhdGgKICAgICAgICAgICAgfTsKICAgICAgICAgICAgY2F0ZWdvcnlfYWRkKHBhcmFtcykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLnN1Y2Nlc3MoIua3u+WKoOaIkOWKnyIpOwoKICAgICAgICAgICAgICBfdGhpczMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICAgICAgICBfdGhpczMuZ2V0RGF0YSgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoX3RoaXMzLnR5cGUgPT09ICdlZGl0JykgewogICAgICAgICAgICB2YXIgX3BhcmFtcyA9IHsKICAgICAgICAgICAgICBuYW1lOiBfdGhpczMuZm9ybS5uYW1lLAogICAgICAgICAgICAgIGlkOiBfdGhpczMuZWRpdElkLAogICAgICAgICAgICAgIGxvZ286IF90aGlzMy5mb3JtLmxvZ28ucGF0aAogICAgICAgICAgICB9OwogICAgICAgICAgICBjYXRlZ29yeV9lZGl0KF9wYXJhbXMpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5zdWNjZXNzKCLkv67mlLnmiJDlip8iKTsKCiAgICAgICAgICAgICAgX3RoaXMzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKCiAgICAgICAgICAgICAgX3RoaXMzLmdldERhdGEoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXREYXRhOiBmdW5jdGlvbiBnZXREYXRhKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgbmFtZTogdGhpcy5zZWFyY2hGb3JtLm5hbWUKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLnNlYXJjaEZvcm0uY2F0ZWdvcnkgJiYgdGhpcy5zZWFyY2hGb3JtLmNhdGVnb3J5Lmxlbmd0aCA+IDApIHsKICAgICAgICBwYXJhbXMuY2F0ZWdvcnlfaWQgPSB0aGlzLnNlYXJjaEZvcm0uY2F0ZWdvcnlbdGhpcy5zZWFyY2hGb3JtLmNhdGVnb3J5Lmxlbmd0aCAtIDFdOwogICAgICB9CgogICAgICBjYXRlZ29yeV9saXN0KHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM0LnRhYmxlRGF0YSA9IHJlcy5saXN0OwogICAgICB9KTsKICAgIH0sCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuc2VhcmNoRm9ybSA9IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBjYXRlZ29yeTogW10KICAgICAgfTsKICAgIH0sCiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaCgpIHsKICAgICAgdGhpcy5nZXREYXRhKCk7CiAgICB9LAogICAgdXBsb2FkOiBmdW5jdGlvbiB1cGxvYWQoZSkgewogICAgICB0aGlzLmZvcm0ubG9nbyA9IGU7CiAgICB9LAogICAgZGVsSW1hZ2U6IGZ1bmN0aW9uIGRlbEltYWdlKCkgewogICAgICB0aGlzLmZvcm0ubG9nbyA9IHt9OwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"search-form\">\r\n            <el-form :inline=\"true\" size=\"small\">\r\n                <el-form-item label=\"分类\">\r\n                    <el-cascader v-model=\"searchForm.category\" :options=\"categoryOptions\" :props=\"{value:'id',label:'name', checkStrictly: true }\r\n                    \" clearable></el-cascader>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"search\">查询</el-button>\r\n                    <el-button icon=\"el-icon-refresh-left\" @click=\"reset\">重置</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n        <div class=\"table-view\">\r\n            <div class=\"add-view\">\r\n                <el-button icon=\"el-icon-plus\" type=\"primary\" plain @click=\"openDialog('add',0,{})\">新增</el-button>\r\n            </div>\r\n            <el-table :data=\"tableData\" style=\"width: 100%\" align=\"center\" row-key=\"id\"\r\n                      :tree-props=\"{children: 'children'}\">\r\n                <el-table-column prop=\"id\" label=\"编号\"></el-table-column>\r\n                <el-table-column prop=\"name\" label=\"名称\"></el-table-column>\r\n                <el-table-column label=\"logo\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-image class=\"table-image\" fit=\"cover\" :src=\"scope.row.logo\"\r\n                                  :preview-src-list=\"scope.row.logo |toArray\"></el-image>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" width=\"200px\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button size=\"mini\" type=\"text\" @click=\"openDialog('add',scope.row.id,scope.row)\">\r\n                            新增\r\n                        </el-button>\r\n                        <el-button size=\"mini\" type=\"text\" @click=\"openDialog('edit',0,scope.row)\">\r\n                            编辑\r\n                        </el-button>\r\n                        <el-button size=\"mini\" type=\"text\" @click=\"del(scope.row.id)\">删除\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n\r\n        <el-dialog :title=\"type==='add'?'添加分类':'编辑分类'\" :visible.sync=\"dialogVisible\" width=\"400px\">\r\n            <el-form ref=\"form\" size=\"small\" :model=\"form\" label-width=\"60px\" :rules=\"rules\">\r\n                <el-form-item label=\"标题\" prop=\"name\">\r\n                    <el-input v-model=\"form.name\" placeholder=\"标题\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"logo\" prop=\"logo\">\r\n                    <upload :file-list=\"form.logo.url |toArray\" @success=\"upload\" @del=\"delImage\"/>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button size=\"small\" @click=\"dialogVisible = false\">取 消</el-button>\r\n                <el-button size=\"small\" type=\"primary\" @click=\"submit\">确 定</el-button>\r\n       </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import Upload from \"../../../components/upload\";\r\n    import {category_del, category_edit, category_list, category_add} from \"../../../api/goods_category\";\r\n    import {category_options} from \"../../../api/goods\";\r\n\r\n    export default {\r\n        name: \"index\",\r\n        components: {\r\n            Upload\r\n        },\r\n        data() {\r\n            return {\r\n                tableData: [],\r\n                type: 'add',\r\n                dialogVisible: false,\r\n                form: {\r\n                    name: '',\r\n                    category: '',\r\n                    logo: {},\r\n                },\r\n                rules: {\r\n                    name: [{required: true, message: '请输入'}],\r\n                    logo: [{required: true, message: '请上传'}],\r\n                },\r\n                categoryOptions: [],\r\n                searchForm: {\r\n                    category: []\r\n                },\r\n                editId: 0,\r\n                pid: 0\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getData();\r\n            category_options().then(res => {\r\n                this.categoryOptions = res.list;\r\n            })\r\n        },\r\n        methods: {\r\n            del(id) {\r\n                this.$confirm('确认删除该分类?')\r\n                    .then(() => {\r\n                        category_del({id}).then(() => {\r\n                            this.getData();\r\n                        })\r\n                    })\r\n            },\r\n            openDialog(type, pid, data) {\r\n                this.type = type;\r\n                this.pid = pid;\r\n                this.dialogVisible = true;\r\n                if (type === 'add') {\r\n                    this.form = {\r\n                        name: '',\r\n                        logo: {},\r\n                    }\r\n                } else {\r\n                    this.editId = data.id;\r\n                    this.form = {\r\n                        name: data.name,\r\n                        logo: {url: data.logo},\r\n                    }\r\n                }\r\n            },\r\n            submit() {\r\n                this.$refs['form'].validate(valid => {\r\n                    if (valid) {\r\n                        if (this.type === 'add') {\r\n                            let params = {\r\n                                name: this.form.name,\r\n                                pid: this.pid,\r\n                                logo: this.form.logo.path,\r\n                            };\r\n                            category_add(params).then(() => {\r\n                                this.$message.success(\"添加成功\");\r\n                                this.dialogVisible = false;\r\n                                this.getData();\r\n                            })\r\n                        }\r\n                        if (this.type === 'edit') {\r\n                            let params = {\r\n                                name: this.form.name,\r\n                                id: this.editId,\r\n                                logo: this.form.logo.path,\r\n                            };\r\n                            category_edit(params).then(() => {\r\n                                this.$message.success(\"修改成功\");\r\n                                this.dialogVisible = false;\r\n                                this.getData();\r\n                            })\r\n                        }\r\n                    }\r\n                })\r\n            },\r\n            getData() {\r\n                let params = {\r\n                    name: this.searchForm.name,\r\n                };\r\n                if (this.searchForm.category && this.searchForm.category.length > 0) {\r\n                    params.category_id = this.searchForm.category[this.searchForm.category.length - 1]\r\n                }\r\n                category_list(params).then(res => {\r\n                    this.tableData = res.list;\r\n                })\r\n            },\r\n            reset() {\r\n                this.searchForm = {\r\n                    name: '',\r\n                    category: []\r\n                }\r\n            },\r\n            search() {\r\n                this.getData();\r\n            },\r\n            upload(e) {\r\n                this.form.logo = e;\r\n            },\r\n            delImage() {\r\n                this.form.logo = {};\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/view/goods/category"}]}