{"remainingRequest":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace\\shop-frontend\\boss-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\workspace\\shop-frontend\\boss-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\shop-frontend\\boss-app\\src\\view\\goods\\brand\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\shop-frontend\\boss-app\\src\\view\\goods\\brand\\index.vue","mtime":1648482459382},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632657941567},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\babel-loader\\lib\\index.js","mtime":1632657941543},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632657941567},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\vue-loader\\lib\\index.js","mtime":1632657960293}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBVcGxvYWQgZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy91cGxvYWQiOwppbXBvcnQgeyBicmFuZF9hZGQsIGJyYW5kX2RlbCwgYnJhbmRfZWRpdCwgYnJhbmRfbGlzdCB9IGZyb20gIi4uLy4uLy4uL2FwaS9nb29kc19icmFuZCI7CmltcG9ydCB7IGNhdGVnb3J5X29wdGlvbnMgfSBmcm9tICIuLi8uLi8uLi9hcGkvZ29vZHMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImluZGV4IiwKICBjb21wb25lbnRzOiB7CiAgICBVcGxvYWQ6IFVwbG9hZAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHR5cGU6ICdhZGQnLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGNhdGVnb3J5OiAnJywKICAgICAgICBicmFuZF9kZXNjcmliZTogJycsCiAgICAgICAgYnJhbmRfc3Rvcnk6ICcnLAogICAgICAgIGxvZ286IHt9LAogICAgICAgIG9mZmljZV93ZWI6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpScKICAgICAgICB9XSwKICAgICAgICBjYXRlZ29yeTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqScKICAgICAgICB9XSwKICAgICAgICBsb2dvOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+35LiK5LygJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGNhdGVnb3J5T3B0aW9uczogW10sCiAgICAgIHNlYXJjaEZvcm06IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBjYXRlZ29yeTogW10KICAgICAgfSwKICAgICAgZWRpdElkOiAwCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5nZXREYXRhKCk7CiAgICBjYXRlZ29yeV9vcHRpb25zKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzLmNhdGVnb3J5T3B0aW9ucyA9IHJlcy5saXN0OwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBkZWw6IGZ1bmN0aW9uIGRlbChpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruiupOWIoOmZpOivpeWTgeeJjD8nKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBicmFuZF9kZWwoewogICAgICAgICAgaWQ6IGlkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuZ2V0RGF0YSgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBvcGVuRGlhbG9nOiBmdW5jdGlvbiBvcGVuRGlhbG9nKHR5cGUsIGRhdGEpIHsKICAgICAgdGhpcy50eXBlID0gdHlwZTsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKCiAgICAgIGlmICh0eXBlID09PSAnYWRkJykgewogICAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgY2F0ZWdvcnk6ICcnLAogICAgICAgICAgYnJhbmRfZGVzY3JpYmU6ICcnLAogICAgICAgICAgYnJhbmRfc3Rvcnk6ICcnLAogICAgICAgICAgbG9nbzoge30sCiAgICAgICAgICBvZmZpY2Vfd2ViOiAnJwogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lZGl0SWQgPSBkYXRhLmlkOwogICAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSwKICAgICAgICAgIGNhdGVnb3J5OiBbZGF0YS5jYXRlZ29yeV9pZF0sCiAgICAgICAgICBicmFuZF9kZXNjcmliZTogZGF0YS5icmFuZF9kZXNjcmliZSwKICAgICAgICAgIGJyYW5kX3N0b3J5OiBkYXRhLmJyYW5kX3N0b3J5LAogICAgICAgICAgbG9nbzogewogICAgICAgICAgICB1cmw6IGRhdGEubG9nb1VybCwKICAgICAgICAgICAgcGF0aDogZGF0YS5sb2dvCiAgICAgICAgICB9LAogICAgICAgICAgb2ZmaWNlX3dlYjogZGF0YS5vZmZpY2Vfd2ViCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICAgIG5hbWU6IF90aGlzMy5mb3JtLm5hbWUsCiAgICAgICAgICAgIGJyYW5kX2Rlc2NyaWJlOiBfdGhpczMuZm9ybS5icmFuZF9kZXNjcmliZSwKICAgICAgICAgICAgYnJhbmRfc3Rvcnk6IF90aGlzMy5mb3JtLmJyYW5kX3N0b3J5LAogICAgICAgICAgICBsb2dvOiBfdGhpczMuZm9ybS5sb2dvLnBhdGgsCiAgICAgICAgICAgIG9mZmljZV93ZWI6IF90aGlzMy5mb3JtLm9mZmljZV93ZWIKICAgICAgICAgIH07CgogICAgICAgICAgaWYgKF90aGlzMy5mb3JtLmNhdGVnb3J5ICYmIF90aGlzMy5mb3JtLmNhdGVnb3J5Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgcGFyYW1zLmNhdGVnb3J5X2lkID0gX3RoaXMzLmZvcm0uY2F0ZWdvcnlbX3RoaXMzLmZvcm0uY2F0ZWdvcnkubGVuZ3RoIC0gMV07CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKF90aGlzMy50eXBlID09PSAnYWRkJykgewogICAgICAgICAgICBicmFuZF9hZGQocGFyYW1zKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2Vzcygi5re75Yqg5oiQ5YqfIik7CgogICAgICAgICAgICAgIF90aGlzMy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgICAgIF90aGlzMy5nZXREYXRhKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChfdGhpczMudHlwZSA9PT0gJ2VkaXQnKSB7CiAgICAgICAgICAgIHBhcmFtcy5pZCA9IF90aGlzMy5lZGl0SWQ7CiAgICAgICAgICAgIGJyYW5kX2VkaXQocGFyYW1zKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2Vzcygi5L+u5pS55oiQ5YqfIik7CgogICAgICAgICAgICAgIF90aGlzMy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgICAgIF90aGlzMy5nZXREYXRhKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIG5hbWU6IHRoaXMuc2VhcmNoRm9ybS5uYW1lCiAgICAgIH07CgogICAgICBpZiAodGhpcy5zZWFyY2hGb3JtLmNhdGVnb3J5ICYmIHRoaXMuc2VhcmNoRm9ybS5jYXRlZ29yeS5sZW5ndGggPiAwKSB7CiAgICAgICAgcGFyYW1zLmNhdGVnb3J5X2lkID0gdGhpcy5zZWFyY2hGb3JtLmNhdGVnb3J5W3RoaXMuc2VhcmNoRm9ybS5jYXRlZ29yeS5sZW5ndGggLSAxXTsKICAgICAgfQoKICAgICAgYnJhbmRfbGlzdChwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNC50YWJsZURhdGEgPSByZXMubGlzdDsKICAgICAgfSk7CiAgICB9LAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLnNlYXJjaEZvcm0gPSB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgY2F0ZWdvcnk6IFtdCiAgICAgIH07CiAgICB9LAogICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goKSB7CiAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgfSwKICAgIHVwbG9hZDogZnVuY3Rpb24gdXBsb2FkKGUpIHsKICAgICAgdGhpcy5mb3JtLmxvZ28gPSBlOwogICAgfSwKICAgIGRlbEltYWdlOiBmdW5jdGlvbiBkZWxJbWFnZSgpIHsKICAgICAgdGhpcy5mb3JtLmxvZ28gPSB7fTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"search-form\">\r\n            <el-form :inline=\"true\" size=\"small\">\r\n                <el-form-item label=\"品牌名称\">\r\n                    <el-input v-model=\"searchForm.name\" placeholder=\"品牌名称\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"分类\">\r\n                    <el-cascader v-model=\"searchForm.category\" :options=\"categoryOptions\" :props=\"{value:'id',label:'name', checkStrictly: true }\r\n                    \" clearable></el-cascader>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"search\">查询</el-button>\r\n                    <el-button icon=\"el-icon-refresh-left\" @click=\"reset\">重置</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n        <div class=\"table-view\">\r\n            <div class=\"add-view\">\r\n                <el-button icon=\"el-icon-plus\" type=\"primary\" plain @click=\"openDialog('add')\">新增</el-button>\r\n            </div>\r\n            <el-table :data=\"tableData\" style=\"width: 100%\" align=\"center\">\r\n                <el-table-column prop=\"id\" label=\"编号\"></el-table-column>\r\n                <el-table-column prop=\"name\" label=\"名称\"></el-table-column>\r\n                <el-table-column label=\"logo\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-image class=\"table-image\" fit=\"cover\" :src=\"scope.row.logoUrl\"\r\n                                  :preview-src-list=\"scope.row.logoUrl |toArray\"></el-image>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"categoryName\" label=\"分类\"></el-table-column>\r\n                <el-table-column prop=\"created_at\" label=\"创建时间\"></el-table-column>\r\n                <el-table-column label=\"操作\" width=\"200px\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-edit\" @click=\"openDialog('edit',scope.row)\">\r\n                            编辑\r\n                        </el-button>\r\n                        <el-button :disabled=\"scope.row.isDefault\" size=\"mini\" type=\"danger\" icon=\"el-icon-delete\"\r\n                                   @click=\"del(scope.row.id)\">删除\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n\r\n        <el-dialog :title=\"type==='add'?'添加品牌':'编辑品牌'\" :visible.sync=\"dialogVisible\" width=\"400px\">\r\n            <el-form ref=\"form\" size=\"small\" :model=\"form\" label-width=\"60px\" :rules=\"rules\">\r\n                <el-form-item label=\"标题\" prop=\"name\">\r\n                    <el-input v-model=\"form.name\" placeholder=\"标题\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"分类\" prop=\"category\" v-if=\"type==='add'\">\r\n                    <el-cascader v-model=\"form.category\" :options=\"categoryOptions\" :props=\"{value:'id',label:'name', checkStrictly: true }\r\n                    \" clearable></el-cascader>\r\n                </el-form-item>\r\n                <el-form-item label=\"logo\" prop=\"logo\">\r\n                    <upload :file-list=\"form.logo.url |toArray\" @success=\"upload\" @del=\"delImage\"/>\r\n                </el-form-item>\r\n                <el-form-item label=\"官网\">\r\n                    <el-input v-model=\"form.office_web\" placeholder=\"官网链接\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"描述\">\r\n                    <el-input type=\"textarea\" v-model=\"form.brand_describe\" placeholder=\"品牌描述\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"故事\">\r\n                    <el-input type=\"textarea\" v-model=\"form.brand_story\" placeholder=\"品牌故事\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button size=\"small\" @click=\"dialogVisible = false\">取 消</el-button>\r\n                <el-button size=\"small\" type=\"primary\" @click=\"submit\">确 定</el-button>\r\n       </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import Upload from \"../../../components/upload\";\r\n    import {brand_add, brand_del, brand_edit, brand_list} from \"../../../api/goods_brand\";\r\n    import {category_options} from \"../../../api/goods\";\r\n\r\n    export default {\r\n        name: \"index\",\r\n        components: {\r\n            Upload\r\n        },\r\n        data() {\r\n            return {\r\n                tableData: [],\r\n                type: 'add',\r\n                dialogVisible: false,\r\n                form: {\r\n                    name: '',\r\n                    category: '',\r\n                    brand_describe: '',\r\n                    brand_story: '',\r\n                    logo: {},\r\n                    office_web: ''\r\n                },\r\n                rules: {\r\n                    name: [{required: true, message: '请输入'}],\r\n                    category: [{required: true, message: '请选择'}],\r\n                    logo: [{required: true, message: '请上传'}],\r\n                },\r\n                categoryOptions: [],\r\n                searchForm: {\r\n                    name: '',\r\n                    category: []\r\n                },\r\n                editId: 0\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getData();\r\n            category_options().then(res => {\r\n                this.categoryOptions = res.list;\r\n            })\r\n        },\r\n        methods: {\r\n            del(id) {\r\n                this.$confirm('确认删除该品牌?')\r\n                    .then(() => {\r\n                        brand_del({id}).then(() => {\r\n                            this.getData();\r\n                        })\r\n                    })\r\n            },\r\n            openDialog(type, data) {\r\n                this.type = type;\r\n                this.dialogVisible = true;\r\n                if (type === 'add') {\r\n                    this.form = {\r\n                        name: '',\r\n                        category: '',\r\n                        brand_describe: '',\r\n                        brand_story: '',\r\n                        logo: {},\r\n                        office_web: ''\r\n                    }\r\n                } else {\r\n                    this.editId = data.id;\r\n                    this.form = {\r\n                        name: data.name,\r\n                        category: [data.category_id],\r\n                        brand_describe: data.brand_describe,\r\n                        brand_story: data.brand_story,\r\n                        logo: {url: data.logoUrl, path: data.logo},\r\n                        office_web: data.office_web\r\n                    }\r\n                }\r\n            },\r\n            submit() {\r\n                this.$refs['form'].validate(valid => {\r\n                    if (valid) {\r\n                        let params = {\r\n                            name: this.form.name,\r\n                            brand_describe: this.form.brand_describe,\r\n                            brand_story: this.form.brand_story,\r\n                            logo: this.form.logo.path,\r\n                            office_web: this.form.office_web\r\n                        };\r\n                        if (this.form.category && this.form.category.length > 0) {\r\n                            params.category_id = this.form.category[this.form.category.length - 1]\r\n                        }\r\n                        if (this.type === 'add') {\r\n                            brand_add(params).then(() => {\r\n                                this.$message.success(\"添加成功\");\r\n                                this.dialogVisible = false;\r\n                                this.getData();\r\n                            })\r\n                        }\r\n                        if (this.type === 'edit') {\r\n                            params.id = this.editId;\r\n                            brand_edit(params).then(() => {\r\n                                this.$message.success(\"修改成功\");\r\n                                this.dialogVisible = false;\r\n                                this.getData();\r\n                            })\r\n                        }\r\n\r\n                    }\r\n                })\r\n            },\r\n            getData() {\r\n                let params = {\r\n                    name: this.searchForm.name,\r\n                };\r\n                if (this.searchForm.category && this.searchForm.category.length > 0) {\r\n                    params.category_id = this.searchForm.category[this.searchForm.category.length - 1]\r\n                }\r\n                brand_list(params).then(res => {\r\n                    this.tableData = res.list;\r\n                })\r\n            },\r\n            reset() {\r\n                this.searchForm = {\r\n                    name: '',\r\n                    category: []\r\n                }\r\n            },\r\n            search() {\r\n                this.getData();\r\n            },\r\n            upload(e) {\r\n                this.form.logo = e;\r\n            },\r\n            delImage() {\r\n                this.form.logo = {};\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/view/goods/brand"}]}