{"remainingRequest":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace\\shop-frontend\\boss-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\workspace\\shop-frontend\\boss-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\shop-frontend\\boss-app\\src\\components\\layout\\module\\layout-header.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\shop-frontend\\boss-app\\src\\components\\layout\\module\\layout-header.vue","mtime":1648827972100},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632657941567},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\babel-loader\\lib\\index.js","mtime":1632657941543},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632657941567},{"path":"D:\\workspace\\shop-frontend\\boss-app\\node_modules\\vue-loader\\lib\\index.js","mtime":1632657960293}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0X2luZm8sIHJlbW92ZV9pbmZvLCBzZXRfaW5mbyB9IGZyb20gIi4uLy4uLy4uL3V0aWwvdXNlckluZm8iOwppbXBvcnQgeyByZW1vdmVfdG9rZW4gfSBmcm9tICIuLi8uLi8uLi91dGlsL3Rva2VuIjsKaW1wb3J0IHsgdXNlcl9pbmZvIH0gZnJvbSAiLi4vLi4vLi4vYXBpL2FkbWluIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJsYXlvdXQtaGVhZGVyIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5mbzoge30sCiAgICAgIHZpc2libGU6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5pbmZvID0gZ2V0X2luZm8oKTsKCiAgICBpZiAoIXRoaXMuaW5mbykgewogICAgICB1c2VyX2luZm8oKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5pbmZvID0gcmVzLmRhdGE7CiAgICAgICAgc2V0X2luZm8ocmVzLmRhdGEpOwogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZVBhc3N3b3JkOiBmdW5jdGlvbiB1cGRhdGVQYXNzd29yZCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvc3lzdGVtL3Bhc3N3b3JkIgogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVJbmZvOiBmdW5jdGlvbiB1cGRhdGVJbmZvKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogIi9zeXN0ZW0vaW5mbyIKICAgICAgfSk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIHJlbW92ZV9pbmZvKCk7CiAgICAgIHJlbW92ZV90b2tlbigpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9sb2dpbicKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["layout-header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAuBA,SAAA,QAAA,EAAA,WAAA,EAAA,QAAA,QAAA,wBAAA;AACA,SAAA,YAAA,QAAA,qBAAA;AACA,SAAA,SAAA,QAAA,oBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OARA,qBAQA;AAAA;;AACA,SAAA,IAAA,GAAA,QAAA,EAAA;;AACA,QAAA,CAAA,KAAA,IAAA,EAAA;AACA,MAAA,SAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA;AACA,QAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AACA,OAHA;AAIA;AACA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA;AADA,OAAA;AAGA,KALA;AAMA,IAAA,UANA,wBAMA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA;AADA,OAAA;AAGA,KAVA;AAWA,IAAA,MAXA,oBAWA;AACA,MAAA,WAAA;AACA,MAAA,YAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA;AADA,OAAA;AAGA;AAjBA;AAjBA,CAAA","sourcesContent":["<template>\r\n    <div class=\"view\">\r\n        <div style=\"color: #555;font-size: 12px\">\r\n            <span>欢迎使用! 今天是</span>\r\n            <span>{{new Date().getFullYear()+'年'}}</span>\r\n            <span>{{new Date().getMonth()+1+'月'}}</span>\r\n            <span>{{new Date().getDate()+'日'}}</span>\r\n        </div>\r\n        <div class=\"layout-head-user\" v-if=\"info\" @mouseenter=\"visible=true\" @mouseleave=\"visible=false\">\r\n            <img class=\"user-avatar\" v-if=\"info.photo\" :src=\"info.photo\" alt=\"\"/>\r\n            <span class=\"user-nickname\">{{info.username}}</span>\r\n            <i style=\"color:#888\" :class=\"[!visible?'el-icon-caret-bottom':'el-icon-caret-top']\"></i>\r\n            <div class=\"user-info\" v-if=\"visible\">\r\n                <div @click=\"updatePassword\">修改密码</div>\r\n                <div @click=\"updateInfo\">个人资料</div>\r\n                <div @click=\"logout\">注销登录</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import {get_info, remove_info, set_info} from \"../../../util/userInfo\";\r\n    import {remove_token} from \"../../../util/token\";\r\n    import {user_info} from \"../../../api/admin\";\r\n\r\n    export default {\r\n        name: \"layout-header\",\r\n        data() {\r\n            return {\r\n                info: {},\r\n                visible: false\r\n            }\r\n        },\r\n        created() {\r\n            this.info = get_info();\r\n            if (!this.info) {\r\n                user_info().then(res => {\r\n                    this.info = res.data;\r\n                    set_info(res.data);\r\n                })\r\n            }\r\n        },\r\n        methods: {\r\n            updatePassword() {\r\n                this.$router.push({\r\n                    path: \"/system/password\"\r\n                })\r\n            },\r\n            updateInfo(){\r\n                this.$router.push({\r\n                    path: \"/system/info\"\r\n                })\r\n            },\r\n            logout() {\r\n                remove_info();\r\n                remove_token();\r\n                this.$router.push({\r\n                    path: '/login'\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .view {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        height: 100%\r\n    }\r\n\r\n    .layout-head-user {\r\n        position: relative;\r\n        display: flex;\r\n        align-items: center;\r\n        height: 100%;\r\n        margin-right: 20px;\r\n    }\r\n\r\n    .user-avatar {\r\n        width: 40px;\r\n        height: 40px;\r\n        border-radius: 5px;\r\n    }\r\n\r\n    .user-nickname {\r\n        color: #333333;\r\n        font-size: 13px;\r\n        margin: 0 10px;\r\n    }\r\n\r\n    .user-info {\r\n        position: absolute;\r\n        top: 55px;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        width: 150px;\r\n        background-color: #ffffff;\r\n        padding: 10px 0;\r\n        border-radius: 5px;\r\n        box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)\r\n    }\r\n\r\n    .user-info div {\r\n        font-size: 13px;\r\n        color: #444;\r\n        padding: 10px 20px;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .user-info div:hover {\r\n        background-color: #EBEEF5;\r\n    }\r\n\r\n    .icon-ch {\r\n        cursor: pointer;\r\n        font-size: 18px;\r\n    }\r\n</style>"],"sourceRoot":"src/components/layout/module"}]}